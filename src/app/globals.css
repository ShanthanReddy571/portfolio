/* Tailwind v4: single import includes base, components, utilities */
@import "tailwindcss";


/* optional global tweaks */
:root { color-scheme: light dark; }
::selection { background: rgba(99,102,241,.25); }
html { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

/* Ensure the page background flips at the root even if a light utility wins */
html { background-color: #ffffff; }
html.dark { background-color: #0f1115; }

/* Force body colors for dark mode regardless of utility order */
body { background-color: #ffffff; color: #171717; }
html.dark body { background-color: #0f1115 !important; color: #e5e7eb !important; }

/* Mobile-friendly defaults */
*, *::before, *::after { box-sizing: border-box; min-width: 0; }
img, svg, video { max-width: 100%; height: auto; }
html, body { width: 100%; }
body { overflow-x: hidden; }
/* Allow long strings to wrap on mobile to avoid overflow */
body { word-break: break-word; overflow-wrap: anywhere; }

/* Prevent labels inside pills from breaking vertically */
.chip, .badge, .link-pill { white-space: nowrap; word-break: normal; overflow-wrap: normal; }
.chip { flex-shrink: 0; }

/* Utility to force nowrap where needed */
.nowrap { white-space: nowrap; }

/* Sticky clear control for horizontal scrollers */
.clear-sticky { position: sticky; left: 0; z-index: 10; }
.clear-surface { background-color: var(--bg); }
html.dark .clear-surface { background-color: var(--card); }

/* Hide horizontal scrollbar in chip/filters scrollers */
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.no-scrollbar::-webkit-scrollbar { display: none; }

/* Design tokens */
:root {
  --bg: #ffffff;
  --fg: #171717;
  --muted: #6b7280; /* gray-500 */
  --border: #e5e7eb; /* gray-200 */
  --card: #f8fafc; /* slate-50 */
  /* Indigo accent */
  --accent: #6366f1; /* indigo-500 */
  --accent-600: #4f46e5; /* indigo-600 */
  --accent-700: #4338ca; /* indigo-700 */
  --accent-contrast: #ffffff;
}
html.dark {
  --bg: #0f1115;
  --fg: #e6e7eb;
  --muted: #a3aab6; /* softened */
  --border: #2a2f3a; /* custom */
  --card: #141821; /* slightly raised */
  /* Keep indigo accent in dark */
  --accent: #818cf8; /* indigo-400/500 mix for dark */
  --accent-600: #6366f1;
  --accent-700: #4f46e5;
  --accent-contrast: #0f1115;
}

/* Reusable UI primitives */
.btn {
  @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition-[colors,transform,box-shadow] border focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400/60 cursor-pointer;
  background-color: var(--bg);
  color: var(--fg);
  border-color: var(--border);
}
.btn:hover { @apply bg-neutral-100; transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,.08); }
.btn:active { transform: translateY(0); box-shadow: none; }
.btn-primary {
  @apply border-transparent;
  background-color: var(--accent);
  color: var(--accent-contrast);
}
html.dark .btn-primary {
  background-color: var(--accent);
  color: var(--accent-contrast);
}
.btn-primary:hover { background-color: var(--accent-600); }
.btn-primary:active { background-color: var(--accent-700); }
.btn-ghost {
  @apply border;
  background-color: transparent;
}
.btn-ghost:hover { border-color: var(--accent); color: var(--accent); }

.card {
  @apply rounded-xl border p-4 transition-colors;
  background-color: var(--bg);
  border-color: var(--border);
}
html.dark .card { background-color: var(--card); border-color: var(--border); }
.card { @apply shadow-sm; }
.card:hover { @apply shadow-md; border-color: var(--accent); }

.badge {
  @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs;
  border-color: var(--border);
  color: var(--muted);
  background-color: color-mix(in oklab, var(--card) 80%, var(--accent) 20%);
}

.chip {
  @apply inline-flex items-center rounded-full border px-3 py-1 text-sm transition-colors;
  border-color: var(--border);
  color: var(--fg);
  background-color: transparent;
}
.chip:hover { @apply bg-neutral-100; }
.chip--active {
  background-color: var(--accent);
  color: var(--accent-contrast);
  border-color: transparent;
}
html.dark .chip--active { background-color: var(--accent); color: var(--accent-contrast); }

/* Nav link pills */
.link-pill {
  @apply inline-flex items-center rounded-lg px-3 py-1.5 transition-[colors,transform] select-none font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400/60;
  color: var(--fg);
}
.link-pill:hover { @apply bg-neutral-100; transform: translateY(-1px); }
.link-pill:active { transform: translateY(0); }
.link-pill--active { @apply bg-neutral-100 dark:bg-neutral-800 text-[var(--accent)];
  border: 1px solid color-mix(in oklab, var(--accent) 45%, var(--border) 55%);
}

/* Underline grow animation for nav labels */
.link-underline {
  background-image: linear-gradient(currentColor, currentColor);
  background-position: 0 100%;
  background-repeat: no-repeat;
  background-size: 0% 2px;
  transition: background-size 180ms ease;
}
.link-pill:hover .link-underline { background-size: 100% 2px; }
.link-underline--active { background-size: 100% 2px; }

/* App navbar: consistent surface in both themes */
.app-navbar {
  background-color: var(--card);
  border-bottom: 1px solid var(--border);
  /* Slightly reduce blur/saturation for better performance */
  -webkit-backdrop-filter: blur(6px) saturate(140%);
  backdrop-filter: blur(6px) saturate(140%);
}

/* Icon-only button style for compact actions */
.icon-btn {
  @apply inline-flex h-9 w-9 items-center justify-center rounded-xl border transition-[colors,transform,box-shadow] cursor-pointer;
  border-color: var(--border);
  color: var(--fg);
  background-color: transparent;
}
.icon-btn:hover { @apply bg-neutral-100; transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,.08); }

/* Dark theme hover: accentâ€‘tinted surfaces instead of white */
/* Safe fallbacks for browsers without color-mix/oklab */
.dark .btn:hover,
.dark .icon-btn:hover,
.dark .link-pill:hover { background-color: #1f2937; border-color: #374151; }
.dark .chip:hover { background-color: #1f2937; border-color: #374151; }
@supports (background-color: color-mix(in oklab, black 50%, white 50%)) {
  .dark .btn:hover,
  .dark .icon-btn:hover,
  .dark .link-pill:hover {
    background-color: color-mix(in oklab, var(--card) 65%, var(--accent) 35%);
    border-color: color-mix(in oklab, var(--border) 60%, var(--accent) 40%);
  }
  .dark .chip:hover {
    background-color: color-mix(in oklab, var(--card) 70%, var(--accent) 30%);
    border-color: color-mix(in oklab, var(--border) 65%, var(--accent) 35%);
  }
}
/* Ensure primary buttons keep strong accent on hover in dark */
.dark .btn-primary:hover {
  background-color: var(--accent-600);
  color: var(--accent-contrast);
}
.icon-btn:active { transform: translateY(0); box-shadow: none; }

/* Universal ripple/press effect for clickable UI */
.btn, .icon-btn, .chip, .link-pill { position: relative; overflow: hidden; }
.btn::after, .icon-btn::after, .chip::after, .link-pill::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 0;
  height: 0;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, currentColor 20%, transparent 21%);
  opacity: 0.22;
  transition: width 320ms ease, height 320ms ease, opacity 520ms ease;
  pointer-events: none;
}
.btn:active::after, .icon-btn:active::after, .chip:active::after, .link-pill:active::after {
  width: 220px;
  height: 220px;
  opacity: 0;
}

/* Theme toggle (pill) */
.theme-toggle {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  width: 96px;
  height: 40px;
  border-radius: 9999px;
  padding: 0 14px;
  border: 1px solid var(--border);
  color: #fff;
  background: linear-gradient(180deg, #18181b, #0b0b0e);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06), 0 10px 24px rgba(0,0,0,.25);
}
.theme-toggle__indicator {
  position: absolute;
  top: 4px;
  left: 4px;
  width: calc(50% - 6px);
  height: calc(100% - 8px);
  border-radius: 9999px;
  background: rgba(255,255,255,.08);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.08), inset 0 -1px 0 rgba(0,0,0,.3);
  transition: transform 220ms ease;
}
.theme-toggle--dark .theme-toggle__indicator { transform: translateX(100%); }
.theme-toggle__icon { display: inline-flex; align-items: center; justify-content: center; opacity: .9; }
.theme-toggle:hover { transform: translateY(-1px); box-shadow: 0 14px 28px rgba(0,0,0,.25); }

/* Section header treatments */
.section-header { position: relative; }
.section-title { position: relative; }
.section-title::after {
  content: "";
  position: absolute;
  left: -0.9rem;
  top: 50%;
  transform: translateY(-50%);
  width: 8px;
  height: 8px;
  border-radius: 9999px;
  background: radial-gradient(circle at 30% 30%, var(--accent), rgba(99,102,241,.3));
  box-shadow: 0 0 12px rgba(99,102,241,.6);
  opacity: .85;
}
.section-header:hover .section-title { color: var(--fg); }
.section-underline {
  height: 2px;
  width: 0%;
  margin-top: .6rem;
  background: linear-gradient(90deg, var(--accent), #8b5cf6 45%, #3b82f6 90%);
  transition: width 240ms ease;
}
.section-header:hover + .section-underline { width: 100%; }

/* Hero styles */
.hero-wrap { position: relative; }
.hero-wrap::before {
  content: "";
  position: absolute;
  inset: -20% -10% auto -10%;
  height: 60%;
  background:
    radial-gradient(32rem 18rem at 20% 20%, rgba(99,102,241,.25), transparent 60%),
    radial-gradient(28rem 16rem at 80% 10%, rgba(168,85,247,.18), transparent 60%),
    radial-gradient(24rem 14rem at 50% 0%, rgba(59,130,246,.15), transparent 60%);
  filter: blur(30px);
  pointer-events: none;
  z-index: -1;
}
.gradient-text {
  background: linear-gradient(90deg, var(--accent), #8b5cf6 40%, #3b82f6 80%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}
.kicker {
  @apply inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs tracking-wide uppercase;
  border-color: var(--border);
  color: var(--muted);
}

/* Welcome badge animation (hero) */
@keyframes welcome-enter {
  0% { transform: translateX(-16px) translateY(-6px); opacity: 0; }
  60% { transform: translateX(0) translateY(0); opacity: 1; }
  100% { transform: translateX(0) translateY(0); opacity: 1; }
}
@keyframes welcome-float {
  0% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
  100% { transform: translateY(0); }
}
.welcome-banner {
  position: relative;
  isolation: isolate;
  display: inline-flex;
  align-items: center;
  gap: .6rem;
  padding: .66rem 1rem;
  border-radius: 1rem;
  font-weight: 600;
  font-size: 1rem; /* upsize */
  color: #fff;
  background: linear-gradient(90deg, var(--accent), #8b5cf6 40%, #3b82f6 80%);
  background-size: 300% 100%;
  animation: welcome-enter 680ms ease-out both, welcome-float 6s ease-in-out 1s infinite, welcome-shimmer 7s ease-in-out infinite;
  box-shadow: 0 10px 30px rgba(0,0,0,.15);
}
.welcome-banner::before {
  content: "";
  position: absolute;
  inset: -4px;
  border-radius: inherit;
  background: conic-gradient(from 0deg, var(--accent), #8b5cf6, #3b82f6, var(--accent));
  filter: blur(10px);
  animation: spin-slow 12s linear infinite;
  z-index: -1;
  opacity: .55;
}
.welcome-banner svg { opacity: .95; }
.dark .welcome-banner { color: #ffffff; }

@keyframes spin-slow { to { transform: rotate(360deg); } }
@keyframes welcome-shimmer { 0% { background-position: 0% 0; } 50% { background-position: 100% 0; } 100% { background-position: 0% 0; } }

.welcome-badge {
  @apply inline-flex items-center gap-2 rounded-full border px-4 py-1.5 text-sm shadow-sm;
  border-color: color-mix(in oklab, var(--border) 70%, var(--accent) 30%);
  background-color: color-mix(in oklab, var(--card) 85%, var(--accent) 15%);
  color: var(--fg);
  animation: welcome-enter 680ms ease-out both, welcome-float 6s ease-in-out 1s infinite;
}
.dark .welcome-badge {
  background-color: color-mix(in oklab, var(--card) 78%, var(--accent) 22%);
  border-color: color-mix(in oklab, var(--border) 60%, var(--accent) 40%);
}
@media (prefers-reduced-motion: reduce) {
  .welcome-badge { animation: welcome-enter 380ms ease-out both; }
  .welcome-banner { animation: welcome-enter 380ms ease-out both; }
}

/* ---- Safe-area helpers (iOS) ---- */
:root {
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
  --safe-left: env(safe-area-inset-left);
  --safe-right: env(safe-area-inset-right);
}
.safe-x { padding-left: max(1rem, var(--safe-left)); padding-right: max(1rem, var(--safe-right)); }
.safe-bottom { padding-bottom: max(0px, var(--safe-bottom)); }

/* ---------- Skills UI ---------- */
.skill-chip {
  @apply inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm;
  border-color: var(--border);
  color: var(--fg);
  background-color: transparent;
}
.skill-chip:hover { @apply bg-neutral-100; }
html.dark .skill-chip:hover { background-color: #1f2937; }
.skill-chip .star { color: var(--accent); opacity: .9; }
.level-dots { display: inline-flex; gap: 2px; }
.level-dots .dot { width: 6px; height: 6px; border-radius: 9999px; background: #cbd5e1; }
html.dark .level-dots .dot { background: #334155; }
.level-dots .dot.filled { background: var(--accent); }

/* New badges for skill level + trending */
.level-badge { @apply inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-medium; }
.level-advanced { background-color: var(--accent); color: var(--accent-contrast); }
.level-intermediate { background-color: #e5e7eb; color: #111827; }
html.dark .level-intermediate { background-color: #374151; color: #e5e7eb; }
.level-beginner { background-color: #f3f4f6; color: #1f2937; }
html.dark .level-beginner { background-color: #1f2937; color: #e5e7eb; }
.trend-badge { @apply inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-medium border; border-color: var(--accent); color: var(--accent); }
.core-badge { @apply inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-medium border; border-color: var(--border); color: var(--muted); }
